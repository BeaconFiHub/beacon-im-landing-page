<!DOCTYPE html>
<html dir="auto" lang="en">
<head>
	<meta charset="UTF-8" />
	<title>分布聊</title>

	<meta name="description" content="分布聊" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="icon" href="assets/favicon.png" />

	<meta property="og:title" content="分布聊" />
	<meta property="og:description" content="分布聊" />
	<meta property="og:image" content="assets/og-image.png" />

	<link rel="stylesheet" href="assets/tobi.css" />
	<link rel="stylesheet" href="assets/style.css" />

</head>
	<body>
		<main>
<header class="app__header container">
	<div class="app__logo-wrapper"> <img class="app__logo" src="assets/icon.png" alt="分布聊"></div>
	<div class="app__infos">
		<h1 class="app__name">分布聊</h1>
		<p class="app__description">“私密、安全、无审查。这是一款基于去中心化网络的聊天 App，您的消息永远不经过任何中心服务器，真正实现点对点加密通信，让您拥有完全的数字主权。”</p>
		<div class=" app__buttons--desktop">

            <div class="app__buttons--lll">
                <a href="javascript:void(0);" style="opacity: 0.4;" class="app__button-play" title="Get on Google Play">
                    <img src="assets/Google_Play.svg" alt="Get on Google Play">
                </a>

                <a href="javascript:void(0);" style="opacity: 0.4;" class="app__button-ios" title="Get on Google Play">
                    <img src="assets/App_Store.svg" alt="Get on Google Play">
                </a>
            </div>

            <div class="app__buttons--lll">
                <a href="https://github.com/BeaconFiHub/beacon-im-landing-page/releases/download/v1.0.0/beacon-im-arm64-v8a-release.apk" class="app__button-web" target="_blank" title="Go to website">
                    <img src="assets/APK_arm64--v8a.svg" alt="Go to website">
                </a>
                <a href="https://github.com/BeaconFiHub/beacon-im-landing-page/releases/download/v1.0.0/beacon-im-armeabi-v7a-release.apk" class="app__button-web" target="_blank" title="Go to website">
                    <img src="assets/APK_armeabi--v7a.svg" alt="Go to website">
                </a>
                <a href="https://github.com/BeaconFiHub/beacon-im-landing-page/releases/download/v1.0.0/beacon-im-universal-release.apk" class="app__button-web" target="_blank" title="Go to website">
                    <img src="assets/APK_Universal.svg" alt="Go to website">
                </a>
            </div>
		</div>
	</div>
</header>
<div class="app__buttons app__buttons--mobile container">

    <a onclick="appClick(1)" href="javascript:void(0);" class="app__button-web" title="Go to website">
        <img src="assets/app-arm64--v8a.svg" alt="Go to website">
    </a>
    <a onclick="appClick(2)" href="javascript:void(0);" class="app__button-web" title="Go to website">
        <img src="assets/app-armeabi--v7a.svg" alt="Go to website">
    </a>
    <a onclick="appClick(3)" href="javascript:void(0);" class="app__button-web" title="Go to website">
        <img src="assets/app-Universal.svg" alt="Go to website">
    </a>

</div>
<section class="app__screenshots app__section">
	<div class="container">
		<h2 class="app__section-title">Screenshots</h2>
	</div>
	<div class="app__screenshots-wrapper container-desktop">
		<div class="app__screenshots-list">
			<a href="assets/screenshot1.jpg" class="lightbox">
				<img src="assets/screenshot1.jpg" class="app__screenshot" alt="" />
			</a>
			<a href="assets/screenshot2.jpg" class="lightbox">
				<img src="assets/screenshot2.jpg" class="app__screenshot" alt="" />
			</a>
			<a href="assets/screenshot3.jpg" class="lightbox">
				<img src="assets/screenshot3.jpg" class="app__screenshot" alt="" />
			</a>
			<a href="assets/screenshot4.jpg" class="lightbox">
				<img src="assets/screenshot4.jpg" class="app__screenshot" alt="" />
			</a>
			<a href="assets/screenshot5.jpg" class="lightbox">
				<img src="assets/screenshot5.jpg" class="app__screenshot" alt="" />
			</a>
		</div>
	</div>
</section>
<section class="app__fulldescription app__section container">
	<h2 class="app__section-title">Description</h2>
	<div class="app__fulldescription-content">
		<p>A more complete description of the mobile app</p>
<p>With a lot of features:</p>
<ul>
<li>Feature 1</li>
<li>Feature 2</li>
<li>Feature 3</li>
</ul>

	</div>
</section>
<section class="app__featured app__section container">
	<h2 class="app__section-title">Featured in</h2>
	<div class="app__featured-content">
		<a href="https://github.com/" target="_blank" class="app__featured-company">
			<img src="assets/producthunt.png" class="app__featured-image">
		</a>
		<a href="https://github.com/" target="_blank" class="app__featured-company">
			<img src="assets/producthunt.png" class="app__featured-image">
		</a>
	</div>
</section>
		</main>
		<footer class="footer">
			<div class="container">
				<div class="footer__container">
					<p class="footer__love">
						<script>document.write('&copy;' + (new Date()).getFullYear());</script><noscript>&copy;2025</noscript> All rights reserved
							&mdash; Template by <a href="https://www.sandoche.com" target="_blank">Sandoche</a>
							&mdash; Powered by <a href="https://t3mpl.n4no.com/" target="_blank" title="T3MPL Editor">T3MPL</a>
					</p>
					<ul class="footer__links">
							<li class="footer__link">
								<a href="page-1.html">Privacy</a>
							</li>
							<li class="footer__link">
								<a href="https://github.com/" targe="_blank">GitHub</a>
							</li>
							<li class="footer__link">
								<a href="https://github.com/" targe="_blank">GitHub</a>
							</li>
					</ul>
				</div>
			</div>
		</footer>

		<script type="text/javascript" src="assets/tobi.min.js" /></script>
		<script>
			window.onload = function () {
				var tobi = new Tobi();
			};

		</script>

        <script>


            // 隐藏浮层的函数
            function hideGuide() {
                const tip = document.getElementById('weixin-tip');
                if (tip) {
                    tip.style.display = 'none';
                }
            }

            // 主点击逻辑
            function appClick(aa) {

                const apk1 = "https://github.com/BeaconFiHub/beacon-im-landing-page/releases/download/v1.0.0/beacon-im-arm64-v8a-release.apk"
                const apk2 = "https://github.com/BeaconFiHub/beacon-im-landing-page/releases/download/v1.0.0/beacon-im-armeabi-v7a-release.apk"
                const apk3 = "https://github.com/BeaconFiHub/beacon-im-landing-page/releases/download/v1.0.0/beacon-im-universal-release.apk"

                let apkUrl = "";

                if (aa === 1) {
                    apkUrl = apk1
                } else if (aa === 2) {
                    apkUrl = apk2
                } else if (aa === 3) {
                    apkUrl = apk3
                }

                // 检查是否在微信内
                var is_weixin = (function() {
                    var ua = navigator.userAgent.toLowerCase();
                    return ua.match(/micromessenger/i) == "micromessenger";
                })();

                // 1. 定义创建浮层的函数
                function loadHtml_weixin() {
                    // 检查浮层是否已存在，如果存在则直接显示
                    let div = document.getElementById('weixin-tip');
                    if (!div) {
                        div = document.createElement('div');
                        div.id = 'weixin-tip';
                        // 这里的 live_weixin.png 应该替换为您实际的引导图片，指向右上角菜单
                        div.innerHTML = '<p onclick="hideGuide()"><img src="./live_weixin.png" alt="微信打开" style="cursor: pointer;"></p>';
                        document.body.appendChild(div);

                        // **【关键修复点 A】**：在创建时，为浮层容器绑定点击隐藏事件
                        div.addEventListener('click', hideGuide);

                        // 添加样式
                        var cssText = "#weixin-tip{display:block;position:fixed;left:0;top:0;background:rgba(0,0,0,0.8);filter:alpha(opacity=80);width:100%;height:100%;z-index:100}#weixin-tip p{text-align:center;margin-top:10%;padding:0 3%;position:relative}#weixin-tip p img{max-width: 100%;height: auto;}";
                        var style = document.createElement('style');
                        style.rel = 'stylesheet';
                        style.type = 'text/css';
                        try {
                            style.appendChild(document.createTextNode(cssText));
                        } catch (e) {
                            style.styleSheet.cssText = cssText;
                        }
                        document.getElementsByTagName("head")[0].appendChild(style);
                    }

                    // 确保浮层可见
                    div.style.display = 'block';

                    // 修正高度，确保全屏覆盖
                    var winHeight = typeof window.innerHeight != 'undefined' ? window.innerHeight : document.documentElement.clientHeight;
                    div.style.height = winHeight + 'px';
                }

                // 2. 执行逻辑判断
                if (is_weixin) {
                    // **【逻辑修复点 B】**：如果在微信内，显示浮层引导用户在浏览器中打开
                    loadHtml_weixin();
                } else {
                    // **【逻辑修复点 C】**：如果不在微信内，直接打开下载链接
                    window.open(apkUrl, '_blank');
                }
            }
        </script>

  </body>

</html>
